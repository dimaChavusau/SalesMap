<template>
    <template if:true={showLegend}>
        <div class="legend-container">
            <div class="legend-header" onclick={toggleLegend}>
                <lightning-icon 
                    icon-name="utility:list" 
                    size="x-small">
                </lightning-icon>
                <span>Legend</span>
            </div>
            <template if:true={isExpanded}>
                <div class="legend-table">
                    <template for:each={legendItems} for:item="item">
                        <div key={item.id} class="legend-item">
                            <span class="legend-color" style={item.style}></span>
                            <span class="legend-label">{item.label}</span>
                        </div>
                    </template>
                </div>
            </template>
        </div>
    </template>
</template>